(()=>{let t="F";function e(e){if("F"===t){e.currentConditions.temp=1.8*e.currentConditions.temp+32;for(let t=0;t<24;t++)e.hoursConditions[t].temp=1.8*e.hoursConditions[t].temp+32;for(let t=0;t<14;t++)e.daysConditions[t].temp=1.8*e.daysConditions[t].temp+32}else{t="C",e.currentConditions.temp=5/9*e.currentConditions.temp-160/9;for(let t=0;t<24;t++)e.hoursConditions[t].temp=5/9*e.hoursConditions[t].temp-160/9;for(let t=0;t<14;t++)e.daysConditions[t].temp=5/9*e.daysConditions[t].temp-160/9}}const o=document.querySelector("#submit"),n=document.querySelector("#changeTemp");o.addEventListener("click",(async o=>{o.preventDefault();const i=document.querySelector("#location").value,s=await async function(t){const e=await fetch(`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${t}?key=NVMFQ3NAJSPXZF28XR7DRFV3U`,{mode:"cors"});return await e.json()}(i),r=function(t){const e=function(t){return{condition:t.conditions,icon:t.icon,temp:t.temp,feelslike:t.feelslike,humidity:t.humidity}}(t.currentConditions),o=function(t){let e=[];for(let o=0;o<24;o++)e.push({temp:t[o].temp,icon:t[o].icon,date:t[o].datetime});return e}(t.days[0].hours),n=function(t){let e=[];for(let o=0;o<14;o++)e.push({temp:t[o].temp,icon:t[o].icon});return e}(t.days);return{currentConditions:e,hoursConditions:o,daysConditions:n}}(s);console.log(t),"C"===t&&e(r),console.log(r),n.addEventListener("click",(()=>{t="C"===t?"F":"C",e(r),console.log(t),console.log(r)}))}))})();